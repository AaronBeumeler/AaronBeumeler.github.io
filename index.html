<!DOCTYPE html>
<html>
<head>
	<title>Math Jungle</title>
		<link rel="stylesheet" type="text/css" href="styles.css" />
	<audio id="menuMusic"><source src="menuMusic.mp3" type="audio/mpeg"></audio>
	<audio id="jungleSound"><source src="jungle1.mp3" type="audio/mpeg"></audio>	
	<audio id="fastBongos"><source src="fastBongos.mp3" type="audio/mpeg"></audio>
	<audio id="lowDrum"><source src="lowDrum.mp3" type="audio/mpeg"></audio>
	<audio id="roundMusic"><source src="roundMusic.mp3" type="audio/mpeg"></audio>
	<audio id="chime"><source src="chime.mp3" type="audio/mpeg"></audio>
	<audio id="trumpet"><source src="trumpet.mp3" type="audio/mpeg"></audio>
	<audio id="bongoRoll"><source src="bongoRoll.mp3" type="audio/mpeg"></audio>
	<audio id="winner"><source src="winner.mp3" type="audio/mpeg"></audio>
	<audio id="shake1"><source src="shake1.mp3" type="audio/mpeg"></audio>
	<audio id="tubaFall"><source src="tubaFall.mp3" type="audio/mpeg"></audio>
	<audio id="almost"><source src="almost.mp3" type="audio/mpeg"></audio>
</head>
<div class="absoluteCenter">
	<div class="discover">What will you discover?</div>
</div>
<body>
	<div class="header">
		<div class="the">The</div>
		<div class="seeThru">
			<h1>Math Jungle</h1>
		</div>  
	</div>
	<div class="fadeIn">
		<div class="wrapperOuter">
		<div class="tinyAdd"></div>
		<div id="Lbutton" class="Lbutton">
		</div>
		<div class="LBox">
		<div id="statsHead" class="statsHead">Statistics</div>
			<div id="stats" class="stats">
			</div>
		<div id="answerMain" class="answerMain">Answers
		<div id="confirmHead" class="confirmHead"></div>
		<div id="wrongAnswer" class="wrongAnswer"></div>
		<div id="confirmMain" class="confirmMain"></div>
		</div>
		<div id="numGrid" class="numGrid">
		<div class="factorBuffer">
		<div class="numHead"></div>
		</div>
			<div class="options" onmouseover="playShake1()">
			<option id="drop1" class="singleNum" onclick="createProb(); swap1(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">1</option>
			<option id="drop2" class="singleNum" onclick="createProb(); swap2(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">2</option>
			<option id="drop3" class="singleNum" onclick="createProb(); swap3(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">3</option>
			<option id="drop4" class="singleNum" onclick="createProb(); swap4(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">4</option>
			<option id="drop5" class="singleNum" onclick="createProb(); swap5(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">5</option>
			<option id="drop6" class="singleNum" onclick="createProb(); swap6(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">6</option>
			<option id="drop7" class="singleNum" onclick="createProb(); swap7(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">7</option>
			<option id="drop8" class="singleNum" onclick="createProb(); swap8(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">8</option>
			<option id="drop9" class="singleNum" onclick="createProb(); swap9(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">9</option>
			<option id="drop10" class="singleNum" onclick="createProb(); swap10(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">10</option>
			<option id="drop11" class="singleNum" onclick="createProb(); swap11(); hideNum(); showTime(); hideInstructions(); showInstructions1();playFastBongos()">11</option>
			<option id="drop12" class="singleNum" onclick="createProb(); swap12(); hideNum(); showTime(); hideInstructions(); showInstructions1(); playFastBongos()">12</option>
			</div>
		</div>
		<div id="timeLimit" class="timeLimit" onmouseover="playShake1()">
			<div id="1min" class="minutes" onclick="timeOne(); showStartButton(); hideTime(); hideInstructions1(); playFastBongos()">1 Minute</div>
			<div id="2min" class="minutes" onclick="timeTwo(); showStartButton(); hideTime(); hideInstructions1(); playFastBongos()">2 Minutes</div>
			<div id="3min" class="minutes" onclick="timeThree(); showStartButton(); hideTime(); hideInstructions1(); playFastBongos()">3 Minutes</div>
		</div>
	</div>
		<div class="timerBox">
		<div class="tinyTimerBorder">
		<div class="tinyTimer">TIMER</div>
		</div>
		<div id="clock" class="countdown"></div>
		</div>
		<div class="wrapperCenter">
			<div id="instructions" class="instructions">Select<br>Number</div>
			<div id="instructions1" class="instructions1">Select<br>Time Limit</div>
			<div id="centerCluster" class="centerCluster">
			<div class="probNums">
						<div class="top">
						<div class="shadow" id="numberInput"></div>
						</div>
						<div class="shadow" id="random"></div>
					<input id="guess" class="guessBox" type="number" autofocus autocomplete="off">
			</div>		
			<button id="button" class="checkBtn" onclick="check()">Enter</button>
			</div>
		</div>
		<div class="result">
		<button id="start" class="start" onclick="hideStartButton(); showCenterCluster(); hideTimeNum(); countdown(); hideReset(); addRound(); showConfirm(); stopMenuMusic(); playLowDrum();
		playRoundMusic()">Start</button>
		<button id="reset" class="reset" onclick="resetCount(); showInstructions(); showNum(); hideReset(); hideStatsHead(); hideStats(); resetCount(); resetGems(); hideConfirm();
		clearArrays(); playFastBongos(); hideCountTop()">Play Again</button>
		<div class="resultFont">
			<div id="result"></div>
		</div>
		</div>
		<div class="RBox">
			<div id="countTop" class="countTop">
			<div id="countText" class="countText">Score</div>
			<div id="count" class="count">0</div>
			</div>
			<img id="gem1" class="gem1" src="greenGem.png"></img>
			<img id="gem2" class="gem2" src="blueGem.png"></img>
			<img id="gem3" class="gem3" src="redGem.png"></img>
			<img id="gem4" class="gem4" src="orangeGem.png"></img>
			<img id="gem5" class="gem5" src="purpleGem.png"></img>
			<img id="gem6" class="gem6" src="tealGem.png"></img>
			<img id="gem7" class="gem7" src="greenGem.png"></img>
			<img id="gem8" class="gem8" src="blueGem.png"></img>
			<img id="gem9" class="gem9" src="orangeGem.png"></img>
			<img id="gem10" class="gem10" src="redGem.png"></img>
			<img id="gem11" class="gem11" src="greenGem.png"></img>
			<img id="gem12" class="gem12" src="tealGem.png"></img>
			<img id="gem13" class="gem13" src="purpleGem.png"></img>
			<img id="gem14" class="gem14" src="orangeGem.png"></img>
			<img id="gem15" class="gem15" src="redGem.png"></img>
			<img id="gem16" class="gem16" src="greenGem.png"></img>
			<img id="gem17" class="gem17" src="purpleGem.png"></img>
			<img id="gem18" class="gem18" src="tealGem.png"></img>
			<img id="gem19" class="gem19" src="tealGem.png"></img>
			<img id="gem20" class="gem20" src="blueGem.png"></img>
		</div>
	</div>
</div>	
</body>


<div class="footer">
	<h4>Welcome to the Jungle</h4>
</div>

<script>

var numberInput = document.getElementById("numberInput").innerHTML = "";
var bNum = Math.round(Math.random() * 13);
var bottomHold = document.getElementById("random").innerHTML = "";
var input = document.getElementById("guess");
var correct, guess, result, count = 0, totalCount = 0, wrong = 0;
//------------------------------------------------------------------

var confirmList = [];
var wrongList = [];

var menuMusic = document.getElementById("menuMusic");
var fastBongos = document.getElementById("fastBongos");
var lowDrum = document.getElementById("lowDrum");
var roundMusic = document.getElementById("roundMusic");
var chime = document.getElementById("chime");
var trumpet = document.getElementById("trumpet");
var bongoRoll = document.getElementById("bongoRoll");
var winner = document.getElementById("winner");
var shake1 = document.getElementById("shake1");
var tubaFall = document.getElementById("tubaFall");
var almost = document.getElementById("almost");

var oneMin;
var min;
var sec;
var timeLeft;
var newTime;
var timer;	
var finishTime;
var startTime;
var gemTotal = 0;
var roundsPlayed = 0;
var lastBottomNum;

//var combinedTime = 0;

var aGem = document.getElementById("gem1");
var bGem = document.getElementById("gem2");
var cGem = document.getElementById("gem3");
var dGem = document.getElementById("gem4");
var eGem = document.getElementById("gem5");
var fGem = document.getElementById("gem6");
var gGem = document.getElementById("gem7");
var hGem = document.getElementById("gem8");
var iGem = document.getElementById("gem9");
var jGem = document.getElementById("gem10");
var kGem = document.getElementById("gem11");
var lGem = document.getElementById("gem12");
var mGem = document.getElementById("gem13");
var nGem = document.getElementById("gem14");
var oGem = document.getElementById("gem15");
var pGem = document.getElementById("gem16");
var qGem = document.getElementById("gem17");
var rGem = document.getElementById("gem18");
var sGem = document.getElementById("gem19");
var tGem = document.getElementById("gem20");


input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("button").click();
   document.getElementById("guess").focus();
   inputClear();
  }
});

input.addEventListener("keyup", function(event) {
	if (event.keyCode === 32) {
		event.preventDefault();
		toggleRoundMusic();
  }
});

function inputClear() {
	document.getElementById("guess").value = ""
}

function clearArrays() {
	wrongList.length = 0;
	confirmList.length = 0;
	document.getElementById("wrongAnswer").innerHTML = wrongList;
	document.getElementById("confirmMain").innerHTML = confirmList;
}

//-------------------------------------------------------

window.onload = function() {
	jungleSound.load();
	jungleSound.play();
	setTimeout(function() {
		menuMusic.loop = true;
		menuMusic.play();
	}, 2200);
}

function playMenuMusic() {
	
	menuMusic.currentTime = 0;
	setTimeout(function() {
		menuMusic.play();
	}, 2000);
}

function delayMenuMusic() {
	menuMusic.currentTime = 0;
	setTimeout(function() {
		menuMusic.play();
	}, 3000);
}

function playWinnerMusic() {
	setTimeout(function() {
		winner.play();
	}, 500);
	winner.currentTime = 0;
}

function toggleRoundMusic() {
	return roundMusic.paused ? roundMusic.play() : roundMusic.pause();
}

function playBongoRoll() {
	bongoRoll.currentTime = 0;
	bongoRoll.play();
}

function stopMenuMusic() {
	menuMusic.pause();
}

function playRoundMusic() {
	
	setTimeout(function() {
		menuMusic.loop = true;
		roundMusic.play();
	}, 850);
}

function stopRoundMusic() {
	roundMusic.pause();
	roundMusic.currentTime = 0;
}

function playFastBongos() {
	fastBongos.currentTime = 0;
	fastBongos.play();
}

function playLowDrum() {
	lowDrum.play();
}

function playChime() {
	chime.currentTime = 0;
	chime.play();
}

function playTrumpet() {
	trumpet.currentTime = 0;
	trumpet.play();
}

function playShake1() {
	shake1.pause();
	shake1.currentTime = 0;
	shake1.play();
}

function playTubaFall() {
	tubaFall.play();
}

function playAlmost() {
	almost.play();
}

function updateList() {
	confirmList.unshift(numberInput + " x " + bNum + " = " + guess + "<br>");
	document.getElementById("confirmMain").innerHTML = confirmList.join(" ");
}

function updateWrong() {
	wrongList.unshift(numberInput + " x " + bNum + " = " + guess + "<br>");
	document.getElementById("wrongAnswer").innerHTML = wrongList.join(" ");
}
	
//start button functions

function hideCountTop() {
	var x = document.getElementById("countTop");
	x.style.display = "none";
}

function hideReset() {
	var x = document.getElementById("reset");
	x.style.display = "none";
} 

function showReset() {
	var x = document.getElementById("reset");
	x.style.display = "block";
}

function showStartButton() {
	var x = document.getElementById("start");
	x.style.display = "block";
}

function hideStartButton() {
	var x = document.getElementById("start");
	x.style.display = "none";
}

function showCenterCluster() {
	var x = document.getElementById("centerCluster");
	x.style.display = "block";
}	

function hideCenterCluster() {
	var x = document.getElementById("centerCluster");
	x.style.display = "none";
}	

function hideInstructions() {
	var x = document.getElementById("instructions");
	x.style.display = "none";
}

function showInstructions() {
	var x = document.getElementById("instructions");
	x.style.display = "block";
}

function showInstructions1() {
	var x = document.getElementById("instructions1");
	x.style.display = "block";
}

function hideInstructions1() {
	var x = document.getElementById("instructions1");
	x.style.display = "none";
}

function showConfirm() {
	var x = document.getElementById("answerMain");
	x.style.display = "block";
}

function hideConfirm() {
	var x = document.getElementById("answerMain");
	x.style.display = "none";
}

function addRound() {
	roundsPlayed += 1;
}

function hideTimeNum() {
	var w = document.getElementById("countTop");
	var x = document.getElementById("numGrid");
	var y = document.getElementById("timeLimit");
	var z = document.getElementById("instructions");
	w.style.display = "block";
	x.style.display = "none";
	y.style.display = "none";
	z.style.display = "none";
	
	document.getElementById("guess").focus();
}


//end start button functions

function update() {
	document.getElementById("numberInput").value = numberInput;
	document.getElementById("random").innerHTML = "x " + bottomHold;
}
	
//Assemble the problem in the center.
function createProb() {
	bNum = Math.floor(Math.random() * 13);
	document.getElementById("numberInput").value = numberInput;
	document.getElementById("random").innerHTML = "x " + bNum;
}

//Response to correct or incorrect answer.
function check() {
	correct = (slotVal * bNum);
	guess = document.getElementById("guess").value;
	result = document.getElementById("result").innerHTML;
	if (guess == null) {
		wrong += 1;
		totalCount += 1;
	}
	if (guess == correct) {
		updateList();
		document.getElementById("result").style.color = "rgb(141, 234, 73)";
		result = "YES!";
		count += 1;
		gemTotal += 1;
		totalCount += 1;
		playChime();
		bNum = Math.floor(Math.random() * 13);
		document.getElementById("random").innerHTML = "x " + bNum;
		document.getElementById("count").innerHTML = count;
		document.getElementById("guess").focus();
		quickClear();	
	} else if (guess != correct) {
		playTrumpet();
		updateWrong();
		totalCount += 1;
		wrong += 1;
		document.getElementById("result").style.color = "red";
		result = "OOPS!";
		bNum = Math.floor(Math.random() * 13);
		document.getElementById("random").innerHTML = "x " + bNum;
		document.getElementById("guess").focus();
		clearTimeout(oneMin);
		quickClear();
	}
    if (totalCount == 20) {
		stopRoundMusic();
		clearTimeout(timer);
		count = document.getElementById("count").innerHTML;
		document.getElementById("guess").focus();
		hideCenterCluster();
		showReset();
		finishTime = timeLeft;
		showStats();
		showStatsHead();
		if (count == 20) {
			document.getElementById("clock").innerHTML = "Great Job!";
			delayMenuMusic();
			playWinnerMusic();
		} else if ((count < 20) && (count >= 15)) {
			document.getElementById("clock").innerHTML = "Almost!";
			playAlmost();
		} else {
			document.getElementById("clock").innerHTML = "Try Again";
			delayMenuMusic();
			playTubaFall();
		}
    }
	if (count >= 1) {
		aGem.style.display = "block";
		}
	if (count >= 2) {
		bGem.style.display = "block";
	}
	if (count >= 3) {
		cGem.style.display = "block";
	}
	if (count >= 4) {
		dGem.style.display = "block";
	}
	if (count >= 5) {
		eGem.style.display = "block";
	}
	if (count >= 6) {
		fGem.style.display = "block";
	}
	if (count >= 7) {
		gGem.style.display = "block";
	}
	if (count >= 8) {
		hGem.style.display = "block";
	}
	if (count >= 9) {
		iGem.style.display = "block";
	}
	if (count >= 10) {
		jGem.style.display = "block";
	}
	if (count >= 11) {
		kGem.style.display = "block";
	}
	if (count >= 12) {
		lGem.style.display = "block";
	}
	if (count >= 13) {
		mGem.style.display = "block";
	}
	if (count >= 14) {
		nGem.style.display = "block";
	}
	if (count >= 15) {
		oGem.style.display = "block";
	}
	if (count >= 16) {
		pGem.style.display = "block";
	}
	if (count >= 17) {
		qGem.style.display = "block";
	}
	if (count >= 18) {
		rGem.style.display = "block";
	}
	if (count >= 19) {
		sGem.style.display = "block";
	}
	if (count >= 20) {
		tGem.style.display = "block";
	}
    inputClear();
	lastBottomNum = bNum;
}


//Need to correct Anser Time equation.
function showStats() {
	var x = document.getElementById("stats");
	if (timeLeft == 0) {
		document.getElementById("stats").innerHTML = "Factor: " + numberInput + "'s<br><br>" + "Correct: " + ((count / 20) * 100) + "%" + "<br><br>" + "Finish Time:<br>" + 
		"Incomplete" + "<br><br>" + "Missed:<br>" + wrong + "<br><br>" + "Total Gems:<br>" + gemTotal + "<br><br>" + "Rounds Played:<br>" + roundsPlayed;
	} else {
		document.getElementById("stats").innerHTML = "Factor: " + numberInput + "'s<br><br>" + "Correct: " + ((count / 20) * 100) + "%" + "<br><br>" + "Finish Time:<br>" + 
		(startTime - finishTime) + " seconds" + "<br><br>" + "Missed:<br>" + wrong + "<br><br>" + "Total Gems:<br>" + gemTotal + "<br><br>" + "Rounds Played:<br>" + roundsPlayed;
	}
	x.style.display = "block";
}

function hideStats() {
	var x = document.getElementById("stats");
	document.getElementById("stats").innerHTML = "";
	x.style.display = "none";
}

function resetCount() {
	count = 0;
	wrong = 0;
	totalCount = 0;
	document.getElementById("count").innerHTML = 0
}

function showNum() {
	var x = document.getElementById("numGrid");
	x.style.display = "block";
}

function hideNum() {
	var x = document.getElementById("numGrid");
	x.style.display = "none";
}

function showTime() {
	var x = document.getElementById("timeLimit");
	x.style.display = "block";
}

function hideTime() {
	var x = document.getElementById("timeLimit");
	x.style.display = "none";
}

function showStatsHead() {
	var x = document.getElementById("statsHead");
	x.style.display = "block";
}

function hideStatsHead() {
	var x = document.getElementById("statsHead");
	x.style.display = "none";
}

function clickTime() {
	document.getElementById("chooseTime").click();
}

function resetGems() {
	aGem.style.display = "none";
	bGem.style.display = "none";
	cGem.style.display = "none";
	dGem.style.display = "none";
	eGem.style.display = "none";
	fGem.style.display = "none";
	gGem.style.display = "none";
	hGem.style.display = "none";
	iGem.style.display = "none";
	jGem.style.display = "none";
	kGem.style.display = "none";
	lGem.style.display = "none";
	mGem.style.display = "none";
	nGem.style.display = "none";
	oGem.style.display = "none";
	pGem.style.display = "none";
	qGem.style.display = "none";
	rGem.style.display = "none";
	sGem.style.display = "none";
	tGem.style.display = "none";
}


//COUNTDOWN

document.getElementById("clock").innerHTML = "0:00";

function timeStop() {
	clearTimeout();
	document.getElementById("clock").innerHTML = "Game Over";
}

function countdown() {
	clearTimeout(timer);
	var newMin;
	timer = setInterval(function(){
		if (timeLeft <= 0) {
			inputClear();
			stopRoundMusic();
			playBongoRoll();
			playMenuMusic();
			clearInterval(timer);
			document.getElementById("clock").style.color = "white";
			document.getElementById("clock").innerHTML = "Time's Up";
			hideCenterCluster();
			showReset();
			showStatsHead();
			showStats();
		} else {
			if (timeLeft < 60) {
				sec = timeLeft;
				newTime = "0:" + sec;
				if (timeLeft == 10) {
					document.getElementById("clock").style.color = "#E0423D";
				}
				if (sec < 10) {
					document.getElementById("clock").style.color = "#E0423D";
					newTime = "0:0" + sec;
				}
			} else {
				newMin = Math.floor(timeLeft / 60);
				sec = timeLeft % 60;
				newTime = newMin + ":" + sec;
				if (sec < 10) {
					newTime = newMin + ":" + "0" + sec;
				} 
				if (sec == 0) {
					newTime = newMin + ":00";
				}
			}
			document.getElementById("clock").innerHTML = newTime;
		}
		timeLeft -= 1;
	}, 1000);
	document.getElementById("guess").focus();
	showReset();
}

//Set the timer
function timeOne() {
	startTime = 60;
	timeLeft = 59;
	document.getElementById("clock").innerHTML = "1:00";
}

function timeTwo() {
	startTime = 120;
	timeLeft = 119;
	document.getElementById("clock").innerHTML = "2:00";
}

function timeThree() {
	startTime = 180;
	timeLeft = 179;
	document.getElementById("clock").innerHTML = "3:00";
}

function quickClear() {
	var clear = setTimeout(clearResult, 1000);
}

function clearResult() {
	document.getElementById("result").innerHTML = "";
}


//Multiple functions to change number as you hover on dropdown items.
var slotVal;

function swap1() {
	slotVal = document.getElementById("drop1").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap2() {
	slotVal = document.getElementById("drop2").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap3() {
	slotVal = document.getElementById("drop3").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap4() {
	slotVal = document.getElementById("drop4").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap5() {
	slotVal = document.getElementById("drop5").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap6() {
	slotVal = document.getElementById("drop6").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap7() {
	slotVal = document.getElementById("drop7").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap8() {
	slotVal = document.getElementById("drop8").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap9() {
	slotVal = document.getElementById("drop9").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap10() {
	slotVal = document.getElementById("drop10").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap11() {
	slotVal = document.getElementById("drop11").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

function swap12() {
	slotVal = document.getElementById("drop12").value;
	numberInput = document.getElementById("numberInput").innerHTML = slotVal;
}

//End of redundant functions.




</script>
</html>